var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),postWeightSearchService=function(n){function t(t){var i=n.call(this,t)||this;return i.$tabSelectorItems=$(".pageTab ul a"),i.defaultPageSize=1e3,$(document).ready(function(){i.registerClickEvent();i.$tabSelectorItems.first().click()}),i}return __extends(t,n),t.prototype.getInsertViewArea=function(){return{width:600,height:400}},t.prototype.getUpdateViewArea=function(){return{width:600,height:400}},t.prototype.registerClickEvent=function(){var n=this;this.$tabSelectorItems.click(function(t){var i,r;if(t.preventDefault(),n.$tabSelectorItems.removeClass("active"),$(t.currentTarget).addClass("active"),$("#jqMemberFilter").show(),$("#jqContentRoot").show(),$(".btn_insert ").show(),$("#jqGoldStoreFilter").hide(),$("#jqGoldStoreContentRoot").hide(),i=$(t.currentTarget).attr("id"),$("#postTypeTemp").text(i),i!=="3"&&i!=="4"&&(r=$(".jqSearchBtn"),r.click()),i==="3"||i==="4"){$(".btn_insert ").hide();$("#jqMemberFilter").hide();$("#jqContentRoot").hide();$("#jqGoldStoreFilter").show();$("#jqGoldStoreContentRoot").show();switch(i){case"3":$(".EditGoldStore ").hide();$(".EditGoldStoreRecommend ").show();$(".GoldStore ").text("推荐 3");n.GetGoldStoreData(1);break;case"4":$(".EditGoldStore ").show();$(".EditGoldStoreRecommend ").hide();$(".GoldStore ").text("TOP 3");n.GetGoldStoreData(2)}}})},t.prototype.getSubmitData=function(){var n=new postWeightSearchSearchParam;return n.postType=$("#postTypeTemp").text(),n},t.prototype.batchReview=function(n){var t=this.getSelectedValues(),i;if(t.length===0){alert("未选择帖子，请再确认");return}if(t.length>50){alert("批量审核最大同时50笔,请再确认");return}i=!1;$.ajax2({url:"/PostWeight/BatchReview",type:"POST",data:{postIds:t,type:n},isAutoHideLoading:i,success:function(n){new baseReturnModelService(n).responseHandler(function(){$.fn.loading("hide");$.toast("完成批量移除");$("#selectAllPostId").prop("checked",!1);new pagerService(window.document).reloadCurrentPage()},i,!1)}})},t.prototype.GetGoldStoreData=function(n){$.ajax2({url:"/PostWeight/GetGoldStoreData",type:"GET",data:{type:n},success:function(n){if(n.isSuccess===!0){var t=$("#jqGoldStoreGridContent");t.empty();$.each(n.datas,function(n,i){var r=$("<tr>");r.append($("<td>").text(i.top));r.append($("<td>").text(i.userId));t.append(r)});$("#jqGoldStoreContentRoot").show()}}})},t.prototype.openGoldStoreEdit=function(n){var t=$(n).data("url");this.openView({url:t,area:{width:400,height:360},title:"编辑"})},t.prototype.openGoldStoreRecommendEdit=function(n){var t=$(n).data("url");this.openView({url:t,area:{width:400,height:360},title:"编辑"})},t.prototype.getSelectedValues=function(){var n=[],t=document.querySelectorAll('input[name="selectPostId"]:checked');return t.forEach(function(t){n.push(t.value)}),n},t}(baseCRUDService),postWeightSearchSearchParam=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(PagingRequestParam);