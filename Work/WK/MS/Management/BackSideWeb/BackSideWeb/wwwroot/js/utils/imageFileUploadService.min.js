var imageFileUploadService=function(){function n(n){this.$jqimageFileInput=$("#jqImageFile");this.$jqFullImageUrl=$("#jqFullImageUrl");this.initValidator();this.initJqHiddenGameImage();this.initImageFileInput(n)}return Object.defineProperty(n.prototype,"$jqHiddenGameImage",{get:function(){return $("#jqHiddenGameImage")},enumerable:!1,configurable:!0}),n.prototype.initValidator=function(){var n=this;$.validator.addMethod("imageDimensions",function(t,i,r){return n.validateChangedImage(function(){for(var t,i=n.$jqHiddenGameImage,u=0,f=r;u<f.length;u++)if(t=f[u],t.width/t.height==1){if(i.width()<=t.width&&i.height()<=t.height&&i.width()/i.height()==t.width/t.height)return!0}else if(i.width()<=t.width&&i.height()<=t.height)return!0;return!1})});$.validator.addMethod("imageSize",function(t,i,r){return n.validateChangedImage(function(){return n.fileSize<=r.size})});$.validator.addMethod("imageExtensions",function(t,i,r){return n.validateChangedImage(function(){if(!t)return!0;var n=t,i=r,u=n.substr(n.lastIndexOf(".")+1);return i.includes(u)})});$.validator.addMethod("imageRequired",function(){return n.$jqFullImageUrl.val()})},n.prototype.validateChangedImage=function(n){return this.isFileChanged?n():!0},n.prototype.initImageFileInput=function(n){var t=this;this.$jqimageFileInput.change(function(){var r=new FileReader,i,n;if(r.onload=function(n){t.$jqHiddenGameImage.attr("src",n.target.result);t.$jqHiddenGameImage.trigger("load")},i=t.$jqimageFileInput[0],i.files.length==0){t.$jqFullImageUrl.val("");return}n=i.files[0];r.readAsDataURL(n);t.fileSize=n.size;t.$jqFullImageUrl.val(n.name);t.isFileChanged=!0});this.$jqimageFileInput.rules("add",n)},n.prototype.initJqHiddenGameImage=function(){var n=this;this.$jqHiddenGameImage.on("load",function(){n.hoverImage();n.$jqimageFileInput.valid()});this.$jqHiddenGameImage.trigger("load")},n.prototype.hoverImage=function(){this.$jqHiddenGameImage.attr("src")&&this.$jqFullImageUrl.hoverTips({position:"top",content:$(this.$jqHiddenGameImage)})},n}();