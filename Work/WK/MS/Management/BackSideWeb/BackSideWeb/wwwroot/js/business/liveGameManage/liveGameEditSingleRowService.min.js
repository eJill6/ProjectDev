var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),LiveGameManageDataType,liveGameEditSingleRowService;(function(n){n[n.GameCenter=1]="GameCenter";n[n.DirectPlay=2]="DirectPlay";n[n.MiseLottery=3]="MiseLottery"})(LiveGameManageDataType||(LiveGameManageDataType={}));liveGameEditSingleRowService=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.$imageFile=$("#jqImageFile"),t}return __extends(t,n),t.prototype.serializeFormData=function(n){var i=this.formUtilService.serializeObject(n),t=this.formUtilService.objectToFormData(i);return t.append(this.$imageFile.attr("name"),this.$imageFile[0].files[0]),t},t.prototype.dataTypeChange=function(n,i){var e="datatype_".concat(i),r=$(".jqDataTypePanel"),f;if(r.hide(),f=r.filter("[".concat(e,"='on']")),f.show(),t.isLoadingData()||(r.find("input").not("button.dropdown_toggle input").val(""),r.find("input[data-val-number],input[type='number']").not("button.dropdown_toggle input").val("0"),f.find("button.dropdown_toggle:visible").each(function(n,t){new dropDownService("#".concat(t.id)).setSelectedIndex(0)}),parseInt(i)!=LiveGameManageDataType.MiseLottery&&$("#LotteryId").val("0")),!$("#ProductCode").is(":visible")){t.setLoadingData(!1);return}var o=i,s=globalVariables.GetUrl("/DoubleLayerDropdown/GetGameDropdown"),u=new dropDownService("#ProductCode");$.ajax2({url:s,type:"POST",data:{liveGameManageDataTypeValue:o,dropdownMenuSetting:{SettingId:"GameCode",Callback:"window.editSingleRowService.productCodeChange"}},success:function(n){u.updateMenu(n);var i=window.dataModel;t.isLoadingData()&&i?u.setSelectedValue(i.ProductCode)||u.setSelectedIndex(0):u.setSelectedIndex(0)}})},t.prototype.productCodeChange=function(n,i){var e=globalVariables.GetUrl("/DoubleLayerDropdown/GetSubGameDropdown"),o=new dropDownService("#LiveGameManageDataTypeValue"),r=new dropDownService("#GameCode"),s=parseInt(o.getSelectedValue()),u=i,h,f;if(u===""){r.clearMenu();$("#jqGameCodeDiv").hide();t.setLoadingData(!1);return}h=this;f={SettingId:"GameCode"};$.ajax2({url:e,type:"POST",data:{liveGameManageDataTypeValue:s,productCode:u,dropdownMenuSetting:f},success:function(n){var u=r.updateMenu(n),i;$("#jqGameCodeDiv").toggle(u>0);i=window.dataModel;t.isLoadingData()&&i?r.setSelectedValue(i.GameCode)||r.setSelectedIndex(0):r.setSelectedIndex(0);t.setLoadingData(!1)}})},t.setLoadingData=function(n){window.isLoadingData=n},t.isLoadingData=function(){return window.isLoadingData},t}(editSingleRowService);$(function(){var n=new dropDownService("#LiveGameManageDataTypeValue");window.isLoadingData=!0;n.triggerChange()});