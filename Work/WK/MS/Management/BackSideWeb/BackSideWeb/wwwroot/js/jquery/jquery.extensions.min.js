var _this=this,LayerIconType,Timer,AjaxUpdateMode;(function(n){n[n.Alert=0]="Alert";n[n.Ok=1]="Ok";n[n.Error=2]="Error";n[n.Tip=3]="Tip";n[n.Lock=4]="Lock";n[n.Disagree=5]="Disagree";n[n.Agree=6]="Agree"})(LayerIconType||(LayerIconType={}));Timer=function(){function n(){this.timers=[]}return n.prototype.set=function(n,t,i){var u=this;t(n);var f=n*1e3,e=Date.now()+f,r=setInterval(function(){var f=Date.now(),n=Math.ceil((e-f)/1e3);n>-1?t(n):(u.clear(r),typeof i=="function"&&i())},1e3);return this.timers.push(r),r},n.prototype.clear=function(n){var t=this.timers.findIndex(function(t){return t===n});t>-1&&(clearInterval(n),this.timers.splice(t,1))},n.prototype.allClear=function(){this.timers.forEach(function(n){return clearInterval(n)});this.timers=[]},n}(),function(n){n[n.Replace=1]="Replace";n[n.InsertBefore=2]="InsertBefore";n[n.InsertAfter=3]="InsertAfter"}(AjaxUpdateMode||(AjaxUpdateMode={})),function(n){n.fn.reverse=[].reverse;var t={image:"~/images/validator/loading.gif",alternateText:"Loading",autoShow:!0};return n.fn.loading=function(i){var r={init:function(n){var i=jQuery.extend({},t,n);i.autoShow&&r.show.apply(this)},show:function(){var e=n("#loading");if(e.length==1){e.show();return}var r="fixed",u=n("#progressImgage"),t=n("#maskOfProgressImage"),f;i&&i.aimDiv?(f=n(i.aimDiv).css("position","relative"),r="absolute"):f=n("body");t.length==0&&(t=n('<div id="maskOfProgressImage"><\/div>').addClass("mask").addClass("hide"),f.append(t),t.css({position:r,top:"0",right:"0",bottom:"0",left:"0","z-index":"88888888","background-color":"#000000",display:"none"}));u.show().css({position:r,top:"40%",left:"50%","margin-top":function(){return u.height()/-2},"margin-left":function(){return u.width()/-2}});t.show().css("opacity","0.1")},hide:function(){var t=n("#loading");if(t.length==1){t.hide();return}n("#progressImgage").hide();n("#maskOfProgressImage").hide()},destroy:function(){n("#progressImgage").remove();n("#maskOfProgressImage").remove()}};return r[i]?r[i].apply(this,Array.prototype.slice.call(arguments,1)):typeof i!="object"&&i||r.init.apply(this,arguments),this},n.fn.onlyNumber=function(t){t===void 0&&(t=null);var i=n(this);i.on("input",function(){this.value=this.value.replace(/[^0-9]/g,"");t&&this.value.length>t&&(this.value=this.value.slice(0,t))});return this},n.fn.setEyeToPasswordInput=function(){var i=n(this),t=i.find("input[type='password']");return t.each(function(i){var r=n(t[i]),f=r.parent(),u=n('<a href="javascript:void(0)" class="icon_input_eye_close"><\/a>');u.click(function(){var n=r.attr("type")==="password";r.attr("type",n?"text":"password");u.removeClass().addClass(n?"icon_input_eye_open":"icon_input_eye_close")});f.append(u)}),this},n.fn.setDatePicker=function(t){t===void 0&&(t={});var i=new Date,r=new Date(1990,i.getMonth()+1,i.getDate()),u=n.extend({months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],days:["日","一","二","三","四","五","六"],first_day_of_week:0,startDate:r,show_select_today:!1,show_clear_date:!1,show_icon:!1,default_position:"below",header_captions:{days:"Y年F",months:"Y",years:"Y1 - Y2"}},t);n(this).Zebra_DatePicker(u)},n.fn.updateDatePicker=function(t){t===void 0&&(t={});var i=n.extend({months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],days:["日","一","二","三","四","五","六"],first_day_of_week:0,show_select_today:!1,show_clear_date:!1,show_icon:!1,default_position:"below",header_captions:{days:"Y年F",months:"Y",years:"Y1 - Y2"}},t),r=n(this).data("Zebra_DatePicker");r.update(i)},n.fn.tmplBinding=function(t,i,r){r===void 0&&(r=!0);r&&i.html("");n(this).tmpl(t).appendTo(i)},n.fn.hoverTips=function(t){var r=n(this),i;r.hasClass("tooltipstered")&&r.tooltipster("destroy");i=n.extend({animation:"fade",trigger:"hover",maxWidth:250,position:"right"},t);i.content instanceof jQuery&&(i.content=i.content.clone());r.tooltipster(i)},n.fn.hoverData=function(){var t=n(this);t.each(function(){var t=n(this);t.addClass("article_mode text-truncate")});t.each(function(){var t=n(this),i;t.attr("title")||t.attr("title",t.html());i=parseInt(t.css("width"))||400;t.hoverTips({position:"top",maxWidth:i})})},n.fn.toggleWithSlide=function(t,i,r){return this.each(function(){var u=n(this);return(t===undefined&&(t=!u.is(":visible")),t&&!u.is(":visible"))?u.slideDown(i,r):!t&&u.is(":visible")?u.slideUp(i,r):void 0})},_this}(jQuery);$.extend({logOff:function(){location.href=globalVariables.GetUrl("Authority/Logout")},localStorage:{get:function(n){var t=localStorage.getItem(n);return t?JSON.parse(t):undefined},set:function(n,t){t&&localStorage.setItem(n,JSON.stringify(t))}},timer:new Timer,dropdownMenuSelectedEvent:function(n,t,i,r){var f=$(n).parent(".dropdown_menu"),u=f.prev(".dropdown_toggle");u.data("value",i).find("span").text(t);u.find("input").val(i);u.closest("form").length>0&&u.valid();f.hide();typeof r=="function"&&typeof i=="string"&&r(t,i)},alert:function(n,t,i,r,u){t===void 0&&(t="确定");var f=[t];r&&f.push(r);layer.alert(n,{icon:LayerIconType.Alert,title:"温馨提示",btn:f,yes:function(n){typeof i=="function"&&i();layer.close(n)},btn1:u||function(){},closeBtn:!1})},tip:function(n,t){t===void 0&&(t=3e3);layer.msg(n,{time:t})},toast:function(n,t,i){var u=$("#toast-container .toast-message").length,r;u>=3||(r={timeOut:3e3,closeButton:!0,positionClass:"toast-top-center"},i&&$.extend(r,i),toastr.success(n,t,r))},copyToClipboard:function(n,t){var i=document.createElement("textarea");i.value=n;document.body.appendChild(i);i.select();document.execCommand("copy");document.body.removeChild(i);typeof t=="function"&&t()},dateStringFormat:function(n){return n.toLocaleDateString("zh-CN").replace(/\//g,"-")},isValidDateStringFormat:function(n){return/^\d{4}-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$/.test(n)},setStartAndEndDatePicker:function(n,t,i,r){var f,u;r||(f=new Date(0),r=f);i===null&&(i=!0);u=new Date;n.setDatePicker({onOpen:function(){$.datePickerOnOpen(n,r,t.val()?new Date(t.val().toString()):u)},readonly_element:i});t.setDatePicker({onOpen:function(){$.datePickerOnOpen(t,n.val()?new Date(n.val().toString()):r,u)},readonly_element:i})},datePickerOnOpen:function(n,t,i){var f=$.dateStringFormat(t),r=$.dateStringFormat(i),u=n.val();u||n.val(r);n.updateDatePicker({direction:[f,r],offset:[0,n.height()]});n.val(u)}});$.ajax2=$.ajax2||function(n,t){var r=n.complete,u=n.success,f=n.failedFunc,e=$(t||"#loading").show(),i;return n.success=function(n,t,i){if(u){u(n,t,i);return}if(n.message&&!n.success){f?f(n):alert(n.message);return}},n.complete=function(t,i){n.isAutoHideLoading!==!1&&e.hide();r&&r(t,i)},i=n.error,n.error=function(n){e.hide();i&&i(n)},$.ajax(n)};$.ajaxSetup({cache:!1,statusCode:{400:function(n){if(n.responseJSON){var t=n.responseJSON.Message||n.responseJSON.message;t!==undefined&&t!==""&&t!=null&&alert(t)}},401:function(){$.logOff()},403:function(n){if(n.responseJSON){var t=n.responseJSON.Message||n.responseJSON.message;t!==undefined&&t!==""&&t!=null&&alert(t)}else $.logOff()},500:function(n){if(n.responseJSON){var t=n.responseJSON.message;t!==undefined&&t!==""&&t!=null&&alert(t)}}},error:function(n){n.status!==0}});window.alert=function(n,t){setTimeout(function(){layer.alert(n,{icon:0,title:"温馨提示",closeBtn:!1,shadeClose:!0},function(n){typeof t=="function"&&t();layer.close(n)})},10)};window.confirm=function(n,t,i){return setTimeout(function(){layer.confirm(n,{icon:3,title:"确认信息",shadeClose:!0,closeBtn:!1},function(n){typeof t=="function"&&t();layer.close(n)},function(n){typeof i=="function"&&i();layer.close(n)})},10),!0};window.generateImagePath=function(n){return"/wwwroot/images/".concat(n.replace("/",""))};