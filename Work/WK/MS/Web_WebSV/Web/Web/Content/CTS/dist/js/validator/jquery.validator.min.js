/*! nice-validator 1.1.5
 * (c) 2012-2020 Jony Zhang <niceue@live.com>, MIT Licensed
 * https://github.com/niceue/nice-validator
 */
!function(n){"object"==typeof module&&module.exports?module.exports=n(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n,t){"use strict";function u(t,i){function e(){f.$el=n(t);f.$el.length?f._init(f.$el[0],i):r(t)&&(et[t]=i)}var f=this;return f instanceof u?void(u.pending?n(window).on("validatorready",e):e()):new u(t,i)}function wt(t){function i(){var i=this.options;for(var t in i)t in d&&(this[t]=i[t]);n.extend(this,{_valHook:function(){return"true"===this.element.contentEditable?"text":"val"},getValue:function(){var t=this.element;return"number"===t.type&&t.validity&&t.validity.badInput?"NaN":n(t)[this._valHook()]()},setValue:function(t){n(this.element)[this._valHook()](this.value=t)},getRangeMsg:function(n,t,i){function c(n,t){return a?n>t:n>=t}if(t){var s,e=this,v=e.messages[e._r]||"",l=t[0].split("~"),a="false"===t[1],r=l[0],o=l[1],u="rg",f=[""],y=h(n)&&+n==+n;return 2===l.length?r&&o?(y&&c(n,+r)&&c(+o,n)&&(s=!0),f=f.concat(l),u=a?"gtlt":"rg"):r&&!o?(y&&c(n,+r)&&(s=!0),f.push(r),u=a?"gt":"gte"):!r&&o&&(y&&c(+o,n)&&(s=!0),f.push(o),u=a?"lt":"lte"):(n===+r&&(s=!0),f.push(r),u="eq"),v&&(i&&v[u+i]&&(u+=i),f[0]=v[u]),s||e._rules&&(e._rules[e._i].msg=e.renderMsg.apply(null,f))}},renderMsg:function(){var t=arguments,n=t[0],i=t.length;if(n){for(;--i;)n=n.replace("{"+i+"}",t[i]);return n}}})}function r(i,r,u){this.key=i;this.validator=t;n.extend(this,u,r)}return i.prototype=t,r.prototype=new i,r}function w(n,t){if(s(n)){var i,r=t?t===!0?this:t:w.prototype;for(i in n)lt(i)&&(r[i]=st(n[i]))}}function b(n,t){if(s(n)){var i,r=t?t===!0?this:t:b.prototype;for(i in n)r[i]=n[i]}}function st(t){switch(n.type(t)){case"function":return t;case"array":var i=function(){return t[0].test(this.value)||t[1]||!1};return i.msg=t[1],i;case"regexp":return function(){return t.test(this.value)}}}function ht(t){var i,r,u;if(t&&t.tagName){switch(t.tagName){case"INPUT":case"SELECT":case"TEXTAREA":case"BUTTON":case"FIELDSET":i=t.form||n(t).closest("."+k);break;case"FORM":i=t;break;default:i=n(t).closest("."+k)}for(r in et)if(n(i).is(r)){u=et[r];break}return n(i).data(o)||n(i)[o](u).data(o)}}function bt(n,t){var r=h(i(n,p+"-"+t));if(r&&(r=new Function("return "+r)()))return st(r)}function nt(n,t,u){var f=t.msg,e=t._r;return s(f)&&(f=f[e]),r(f)||(f=i(n,vt+"-"+e)||i(n,vt)||(u?r(u)?u:u[e]:"")),f}function kt(n){var t;return n&&(t=pt.exec(n)),t&&t[0]}function v(n){return"INPUT"===n.tagName&&"checkbox"===n.type||"radio"===n.type}function ct(n){return Date.parse(n.replace(/\.|\-/g,"/"))}function lt(n){return/^\w+$/.test(n)}function tt(n){var t="#"===n.charAt(0);return n=n.replace(/([:.{(|)}\/\[\]])/g,"\\$1"),t?n:'[name="'+n+'"]:first'}var it,o="validator",f="."+o,dt=".rule",at=".field",gt=".form",k="nice-"+o,rt="msg-box",y="aria-invalid",p="data-rule",vt="data-msg",ut="data-tip",ni="data-ok",ft="data-timely",yt="data-target",ti="data-display",ii="data-must",l="novalidate",e=":verifiable",ri=/(&)?(!)?\b(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?\s*(;|\|)?/g,ui=/(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?/,fi=/(?:([^:;\(\[]*):)?(.*)/,ei=/[^\x00-\xff]/g,pt=/top|right|bottom|left/,oi=/(?:(cors|jsonp):)?(?:(post|get):)?(.+)/i,si=/[<>'"`\\]|&#x?\d+[A-F]?;?|%3[A-F]/gim,hi=n.noop,a=n.proxy,h=n.trim,c=n.isFunction,r=function(n){return"string"==typeof n},s=function(n){return n&&"[object Object]"===Object.prototype.toString.call(n)},ci=document.documentMode||+(navigator.userAgent.match(/MSIE (\d+)/)&&RegExp.$1),i=function(n,i,r){return n&&n.tagName?r===t?n.getAttribute(i):void(null===r?n.removeAttribute(i):n.setAttribute(i,""+r)):null},et={},ot={debug:0,theme:"default",ignore:"",focusInvalid:!0,focusCleanup:!1,stopOnError:!1,beforeSubmit:null,valid:null,invalid:null,validation:null,formClass:"n-default",validClass:"n-valid",invalidClass:"n-invalid",bindClassTo:null},d={timely:1,display:null,target:null,ignoreBlank:!1,showOk:!0,dataFilter:function(n){if(r(n)||s(n)&&("error"in n||"ok"in n))return n},msgMaker:function(t){var i;return i='<span role="alert" class="msg-wrap n-'+t.type+'">'+t.arrow,t.result?n.each(t.result,function(n,r){i+='<span class="n-'+r.type+'">'+t.icon+'<span class="n-msg">'+r.msg+"<\/span><\/span>"}):i+=t.icon+'<span class="n-msg">'+t.msg+"<\/span>",i+="<\/span>"},msgWrapper:"span",msgArrow:"",msgIcon:'<span class="n-icon"><\/span>',msgClass:"n-right",msgStyle:"",msgShow:null,msgHide:null},g={};return n.fn.validator=function(t){var i=this,f=arguments;return i.is(e)?i:(i.is("form")||(i=this.find("form")),i.length||(i=this),i.each(function(){var i=n(this).data(o);if(i)if(r(t)){if("_"===t.charAt(0))return;i[t].apply(i,[].slice.call(f,1))}else t&&(i._reset(!0),i._init(this,t));else new u(this,t)}),this)},n.fn.isValid=function(n,i){var f,o,r=ht(this[0]),u=c(n);return!r||(u||i!==t||(i=n),r.checkOnly=!!i,o=r.options,f=r._multiValidate(this.is(e)?this:this.find(e),function(t){t||!o.focusInvalid||r.checkOnly||r.$el.find("["+y+"]:first").focus();u&&(n.length?n(t):t&&n());r.checkOnly=!1}),u?this:f)},n.extend(n.expr.pseudos||n.expr[":"],{verifiable:function(n){var t=n.nodeName.toLowerCase();return("input"===t&&!{submit:1,button:1,reset:1,image:1}[n.type]||"select"===t||"textarea"===t||"true"===n.contentEditable)&&!n.disabled},filled:function(t){return!!h(n(t).val())}}),u.prototype={_init:function(t,u){var h,y,v,s=this;c(u)&&(u={valid:u});u=s._opt=u||{};v=i(t,"data-"+o+"-option");v=s._dataOpt=v&&"{"===v.charAt(0)?new Function("return "+v)():{};y=s._themeOpt=g[u.theme||v.theme||ot.theme];h=s.options=n.extend({},ot,d,y,s.options,u,v);s.rules=new w(h.rules,!0);s.messages=new b(h.messages,!0);s.Field=wt(s);s.elements=s.elements||{};s.deferred={};s.errors={};s.fields={};s._initFields(h.fields);s.$el.data(o)||(s.$el.data(o,s).addClass(k+" "+h.formClass).on("form-submit-validate",function(n,t,i,r,u){s.vetoed=u.veto=!s.isValid;s.ajaxFormOptions=r}).on("submit"+f+" validate"+f,a(s,"_submit")).on("reset"+f,a(s,"_reset")).on("showmsg"+f,a(s,"_showmsg")).on("hidemsg"+f,a(s,"_hidemsg")).on("focusin"+f+" click"+f,e,a(s,"_focusin")).on("focusout"+f+" validate"+f,e,a(s,"_focusout")).on("keyup"+f+" input"+f+" compositionstart compositionend",e,a(s,"_focusout")).on("click"+f,":radio,:checkbox","click",a(s,"_focusout")).on("change"+f,'select,input[type="file"]',"change",a(s,"_focusout")),s._NOVALIDATE=i(t,l),i(t,l,l));r(h.target)&&s.$el.find(h.target).addClass("msg-container")},_guessAjax:function(t){function u(t,i,r){return!!(t&&t[i]&&n.map(t[i],function(n){return~n.namespace.indexOf(r)?1:null}).length)}var i=this,r;(i.isAjaxSubmit=!!i.options.valid)||(r=(n._data||n.data)(t,"events"),i.isAjaxSubmit=u(r,"valid","form")||u(r,"submit","form-plugin"))},_initFields:function(n){function o(n,i){if(null===i||c){var u=t.elements[n];u&&t._resetElement(u,!0);delete t.fields[n]}else t.fields[n]=new t.Field(n,r(i)?{rule:i}:i,t.fields[n])}var i,u,f,t=this,c=null===n;if(c&&(n=t.fields),s(n))for(i in n)if(~i.indexOf(","))for(u=i.split(","),f=u.length;f--;)o(h(u[f]),n[i]);else o(i,n[i]);t.$el.find(e).each(function(){t._parse(this)})},_parse:function(n){var t,o,s,f=this,u=n.name,e=i(n,p);return e&&i(n,p,null),n.id&&("#"+n.id in f.fields||!u||null!==e&&(t=f.fields[u])&&e!==t.rule&&n.id!==t.key)&&(u="#"+n.id),u||(u="#"+(n.id="N"+String(Math.random()).slice(-12))),t=f.getField(u,!0),t.rule=e||t.rule,(o=i(n,ti))&&(t.display=o),t.rule&&((null!==i(n,ii)||/\b(?:match|checked)\b/.test(t.rule))&&(t.must=!0),/\brequired\b/.test(t.rule)&&(t.required=!0),(s=i(n,ft))?t.timely=+s:t.timely>3&&i(n,ft,t.timely),f._parseRule(t),t.old={}),r(t.target)&&i(n,yt,t.target),r(t.tip)&&i(n,ut,t.tip),f.fields[u]=t},_parseRule:function(i){var r=fi.exec(i.rule);r&&(i._i=0,r[1]&&(i.display=r[1]),r[2]&&(i._rules=[],r[2].replace(ri,function(){var r=arguments;r[4]=r[4]||r[5];i._rules.push({and:"&"===r[1],not:"!"===r[2],or:"|"===r[6],method:r[3],params:r[4]?n.map(r[4].split(", "),h):t})})))},_multiValidate:function(i,r){var u=this,f=u.options;return u.hasError=!1,f.ignore&&(i=i.not(f.ignore)),i.each(function(){if(u._validate(this),u.hasError&&f.stopOnError)return!1}),r&&(u.validating=!0,n.when.apply(null,n.map(u.deferred,function(n){return n})).done(function(){r.call(u,!u.hasError);u.validating=!1})),n.isEmptyObject(u.deferred)?!u.hasError:t},_submit:function(i){var r=this,f=r.options,u=i.target,o="submit"===i.type&&"FORM"===u.tagName&&!i.isDefaultPrevented();i.preventDefault();it&&~(it=!1)||r.submiting||"validate"===i.type&&r.$el[0]!==u||c(f.beforeSubmit)&&f.beforeSubmit.call(r,u)===!1||(r.isAjaxSubmit===t&&r._guessAjax(u),r._debug("log","\n<<< event: "+i.type),r._reset(),r.submiting=!0,r._multiValidate(r.$el.find(e),function(t){var e,i=t||2===f.debug?"valid":"invalid";t||(f.focusInvalid&&r.$el.find("["+y+"]:first").focus(),e=n.map(r.errors,function(n){return n}));r.submiting=!1;r.isValid=t;c(f[i])&&f[i].call(r,u,e);r.$el.trigger(i+gt,[u,e]);r._debug("log",">>> "+i);t&&(r.vetoed?n(u).ajaxSubmit(r.ajaxFormOptions):o&&!r.isAjaxSubmit&&document.createElement("form").submit.call(u))}))},_reset:function(n){var t=this;t.errors={};n&&(t.reseting=!0,t.$el.find(e).each(function(){t._resetElement(this)}),delete t.reseting)},_resetElement:function(n){this._setClass(n,null);this.hideMsg(n)},_focusin:function(n){var u,f,r=this,e=r.options,t=n.target;r.validating||"click"===n.type&&document.activeElement===t||(e.focusCleanup&&"true"===i(t,y)&&(r._setClass(t,null),r.hideMsg(t)),f=i(t,ut),f?r.showMsg(t,{type:"tip",msg:f}):(i(t,p)&&r._parse(t),(u=i(t,ft))&&(8!==u&&9!==u||r._focusout(n))))},_focusout:function(t){var c,y,i,o,s,l,h,p,e,u=this,w=u.options,r=t.target,f=t.type,b="focusin"===f,k="validate"===f,a=0;if("compositionstart"===f&&(u.pauseValidate=!0),"compositionend"===f&&(u.pauseValidate=!1),!u.pauseValidate&&(y=r.name&&v(r)?u.$el.find('input[name="'+r.name+'"]').get(0):r,(i=u.getField(y))&&i.rule)){if(c=i._e,i._e=f,e=i.timely,!k){if(!e||v(r)&&"click"!==f)return;if(s=i.getValue(),i.ignoreBlank&&!s&&!b)return void u.hideMsg(r);if("focusout"===f){if("change"===c)return;if(2===e||8===e){if(o=i.old,!s||!o)return;i.isValid&&!o.showOk?u.hideMsg(r):u._makeMsg(r,i,o)}}else{if(e<2&&!t.data)return;if(l=+new Date,l-(r._ts||0)<100)return;if(r._ts=l,"keyup"===f){if("input"===c)return;if(h=t.keyCode,p={8:1,9:1,16:1,32:1,46:1},9===h&&!s)return;if(h<48&&!p[h])return}b||(a=e<100?"click"===f||"SELECT"===r.tagName?0:400:e)}}w.ignore&&n(r).is(w.ignore)||(clearTimeout(i._t),a?i._t=setTimeout(function(){u._validate(r,i)},a):(k&&(i.old={}),u._validate(r,i)))}},_setClass:function(t,i){var u=n(t),r=this.options;r.bindClassTo&&(u=u.closest(r.bindClassTo));u.removeClass(r.invalidClass+" "+r.validClass);null!==i&&u.addClass(i?r.validClass:r.invalidClass)},_showmsg:function(n,t,i){var r=this,u=n.target;r.$el.is(u)?s(t)?r.showMsg(t):"tip"===t&&r.$el.find(e+"["+ut+"]",u).each(function(){r.showMsg(this,{type:t,msg:i})}):r.showMsg(u,{type:t,msg:i})},_hidemsg:function(t){var i=n(t.target);i.is(e)&&this.hideMsg(i)},_validatedField:function(t,i,r){var u=this,o=u.options,f=i.isValid=r.isValid=!!r.isValid,e=f?"valid":"invalid";r.key=i.key;r.ruleName=i._r;r.id=t.id;r.value=i.value;u.elements[i.key]=r.element=t;u.isValid=u.$el[0].isValid=f?u.isFormValid():f;f?r.type="ok":(u.submiting&&(u.errors[i.key]=r.msg),u.hasError=!0);i.old=r;c(i[e])&&i[e].call(u,t,r);c(o.validation)&&o.validation.call(u,t,r);n(t).attr(y,!f||null).trigger(e+at,[r,u]);u.$el.triggerHandler("validation",[r,u]);u.checkOnly||(u._setClass(t,r.skip||"tip"===r.type?null:f),u._makeMsg.apply(u,arguments))},_makeMsg:function(t,i,r){i.msgMaker&&(r=n.extend({},r),"focusin"===i._e&&(r.type="tip"),this[r.showOk||r.msg||"tip"===r.type?"showMsg":"hideMsg"](t,r,i))},_validatedRule:function(u,f,e,o){f=f||l.getField(u);o=o||{};var c,a,v,w,l=this,y=f._r,b=f.timely,p=9===b||8===b,h=!1;if(null===e)return l._validatedField(u,f,{isValid:!0,skip:!0}),void(f._i=0);if(e===t?v=!0:e===!0||""===e?h=!0:r(e)?c=e:s(e)?e.error?c=e.error:(c=e.ok,h=!0):h=!!e,a=f._rules[f._i],a.not&&(c=t,h="required"===y||!h),a.or)if(h)for(;f._i<f._rules.length&&f._rules[f._i].or;)f._i++;else v=!0;else a.and&&(f.isValid||(v=!0));v?h=!0:(h&&f.showOk!==!1&&(w=i(u,ni),c=null===w?r(f.ok)?f.ok:c:w,!r(c)&&r(f.showOk)&&(c=f.showOk),r(c)&&(o.showOk=h)),h&&!p||(c=(nt(u,f,c||a.msg||l.messages[y])||l.messages.fallback).replace(/\{0\|?([^\}]*)\}/,function(n,t){return l._getDisplay(u,f.display)||t||l.messages[0]})),h||(f.isValid=h),o.msg=c,n(u).trigger((h?"valid":"invalid")+dt,[y,c]));!p||v&&!a.and||(h||f._m||(f._m=c),f._v=f._v||[],f._v.push({type:h?v?"tip":"ok":"error",msg:c||a.msg}));l._debug("log","   "+f._i+": "+y+" => "+(h||c));(h||p)&&f._i<f._rules.length-1?(f._i++,l._checkRule(u,f)):(f._i=0,p?(o.isValid=f.isValid,o.result=f._v,o.msg=f._m||"",f.value||"focusin"!==f._e||(o.type="tip")):o.isValid=h,l._validatedField(u,f,o),delete f._m,delete f._v)},_checkRule:function(i,r){var e,l,o,u=this,v=r.key,f=r._rules[r._i],a=f.method,y=f.params;u.submiting&&u.deferred[v]||(o=r.old,r._r=a,o&&!r.must&&!f.must&&f.result!==t&&o.ruleName===a&&o.id===i.id&&r.value&&o.value===r.value?e=f.result:(l=bt(i,a)||u.rules[a]||hi,e=l.call(r,i,y,r),l.msg&&(f.msg=l.msg)),s(e)&&c(e.then)?(u.deferred[v]=e,r.isValid=t,!u.checkOnly&&u.showMsg(i,{type:"loading",msg:u.messages.loading},r),e.then(function(e,o,s){var l,c=h(s.responseText),a=r.dataFilter;/jsonp?/.test(this.dataType)?c=e:"{"===c.charAt(0)&&(c=n.parseJSON(c));l=a.call(this,c,r);l===t&&(l=a.call(this,c.data,r));f.data=this.data;f.result=r.old?l:t;u._validatedRule(i,r,l)},function(n,t){u._validatedRule(i,r,u.messages[t]||t)}).always(function(){delete u.deferred[v]})):u._validatedRule(i,r,e))},_validate:function(n,t){var r=this;if(!n.disabled&&null===i(n,l)&&(t=t||r.getField(n),t&&(t._rules||r._parse(n),t._rules)))return r._debug("info",t.key),t.isValid=!0,t.element=n,t.value=t.getValue(),t.required||t.must||t.value||v(n)?(r._checkRule(n,t),t.isValid):(r._validatedField(n,t,{isValid:!0}),!0)},_debug:function(n,t){window.console&&this.options.debug&&console[n](t)},test:function(n,i){var f,r,e,u,s=this,o=ui.exec(i);return o&&(e=o[1],e in s.rules&&(u=o[2]||o[3],u=u?u.split(", "):t,r=s.getField(n,!0),r._r=e,r.value=r.getValue(),f=s.rules[e].call(r,n,u))),f===!0||f===t||null===f},_getDisplay:function(n,t){return r(t)?t:c(t)?t.call(this,n):""},_getMsgOpt:function(t,i){var u=i?i:this.options;return n.extend({type:"error",pos:kt(u.msgClass),target:u.target,wrapper:u.msgWrapper,style:u.msgStyle,cls:u.msgClass,arrow:u.msgArrow,icon:u.msgIcon},r(t)?{msg:t}:t)},_getMsgDOM:function(r,u){var o,a,f,h,s=n(r),l;return(s.is(e)?(f=u.target||i(r,yt),f&&(f=c(f)?f.call(this,r):"#"===f.charAt(0)?n(f):this.$el.find(f),f.length&&(f.is(e)?(s=f,r=f.get(0)):f.hasClass(rt)?o=f:h=f)),o||(a=v(r)&&r.name||!r.id?r.name:r.id,o=(h||this.$el).find(u.wrapper+"."+rt+'[for="'+a+'"]'))):o=s,u.hide||o.length)||((o=n("<"+u.wrapper+">").attr({"class":rt+(u.cls?" "+u.cls:""),style:u.style||t,"for":a}),h)?o.appendTo(h):v(r)?(l=s.parent(),o.appendTo(l.is("label")?l.parent():l)):o[u.pos&&"right"!==u.pos?"insertBefore":"insertAfter"](s)),o},showMsg:function(t,u,f){if(t){var a,y,l,h,o=this,p=o.options;if(s(t)&&!t.jquery&&!u)return void n.each(t,function(n,t){var i=o.elements[n]||o.$el.find(tt(n))[0];o.showMsg(i,t)});n(t).is(e)&&(f=f||o.getField(t));(y=(f||p).msgMaker)&&(u=o._getMsgOpt(u,f),t=(t.name&&v(t)?o.$el.find('input[name="'+t.name+'"]'):n(t)).get(0),u.msg||"error"===u.type||(l=i(t,"data-"+u.type),null!==l&&(u.msg=l)),r(u.msg)&&(h=o._getMsgDOM(t,u),!pt.test(h[0].className)&&h.addClass(u.cls),6===ci&&"bottom"===u.pos&&(h[0].style.marginTop=n(t).outerHeight()+"px"),h.html(y.call(o,u))[0].style.display="",c(a=f&&f.msgShow||p.msgShow)&&a.call(o,h,u.type)))}},hideMsg:function(t,r,u){var s,o,f=this,h=f.options;t=n(t).get(0);n(t).is(e)&&(u=u||f.getField(t),u&&(u.isValid||f.reseting)&&i(t,y,null));r=f._getMsgOpt(r,u);r.hide=!0;o=f._getMsgDOM(t,r);o.length&&(c(s=u&&u.msgHide||h.msgHide)?s.call(f,o,r.type):(o[0].style.display="none",o[0].innerHTML=""))},getField:function(n,u){var f,e,o=this;if(r(n))f=n,n=t;else{if(i(n,p))return o._parse(n);f=n.id&&"#"+n.id in o.fields||!n.name?"#"+n.id:n.name}return((e=o.fields[f])||u&&(e=new o.Field(f)))&&(e.element=n),e},setField:function(n,t){var i={};n&&(r(n)?i[n]=t:i=n,this._initFields(i))},isFormValid:function(){var t,n,i=this.fields;for(t in i)if(n=i[t],n._rules&&(n.required||n.must||n.value)&&!n.isValid)return!1;return!0},holdSubmit:function(n){this.submiting=n===t||n},cleanUp:function(){this._reset(1)},destroy:function(){this._reset(1);this.$el.off(f).removeData(o);i(this.$el[0],l,this._NOVALIDATE)}},n(window).on("beforeunload",function(){this.focus()}),n(document).on("click",":submit",function(){var n,t=this;t.form&&(n=t.getAttributeNode("formnovalidate"),(n&&null!==n.nodeValue||null!==i(t,l))&&(it=!0))}).on("focusin submit validate","form,."+k,function(t){if(null===i(this,l)){var r,u=n(this);!u.data(o)&&(r=ht(this))&&(n.isEmptyObject(r.fields)?(i(this,l,l),u.off(f).removeData(o)):"focusin"===t.type?r._focusin(t):r._submit(t))}}),new b({fallback:"This field is not valid.",loading:"Validating..."}),new w({required:function(t,i){var r=this,u=h(r.value),f=!0,s,e,o;if(i)if(1===i.length){if(lt(i[0])){if(r.rules[i[0]]){if(!u&&!r.test(t,i[0]))return null;r._r="required"}}else if(!u&&!n(i[0],r.$el).length)return null}else if("not"===i[0])n.each(i.slice(1),function(){return f=u!==h(this)});else if("from"===i[0])return e=r.$el.find(i[1]),o="_validated_",f=e.filter(function(){var n=r.getField(this);return n&&!!h(n.getValue())}).length>=(i[2]||1),f?u||(s=null):s=nt(e[0],r)||!1,n(t).data(o)||e.data(o,1).each(function(){t!==this&&r._validate(this)}).removeData(o),s;return f&&!!u},integer:function(n,t){var i,u="0|",r="[1-9]\\d*",f=t?t[0]:"*";switch(f){case"+":i=r;break;case"-":i="-"+r;break;case"+0":i=u+r;break;case"-0":i=u+"-"+r;break;default:i=u+"-?"+r}return i="^(?:"+i+")$",new RegExp(i).test(this.value)||this.messages.integer&&this.messages.integer[f]},match:function(t,i){if(i){var r,u,h,c,v,y,l,e=this,o=!0,a="eq";if(1===i.length?h=i[0]:(a=i[0],h=i[1]),v=tt(h),y=e.$el.find(v)[0]){if(l=e.getField(y),r=e.value,u=l.getValue(),e._match||(e.$el.on("valid"+at+f,v,function(){n(t).trigger("validate")}),e._match=l._match=1),!e.required&&""===r&&""===u)return null;if(c=i[2],c&&(/^date(time)?$/i.test(c)?(r=ct(r),u=ct(u)):"time"===c&&(r=+r.replace(/:/g,""),u=+u.replace(/:/g,""))),"eq"!==a&&!isNaN(+r)&&isNaN(+u))return!0;switch(a){case"lt":o=+r<+u;break;case"lte":o=+r<=+u;break;case"gte":o=+r>=+u;break;case"gt":o=+r>+u;break;case"neq":o=r!==u;break;default:o=r===u}return o||s(e.messages.match)&&e.messages.match[a].replace("{1}",e._getDisplay(y,l.display||h))}}},range:function(n,t){return this.getRangeMsg(this.value,t)},checked:function(n,t){if(v(n)){var i,r,u=this;return n.name?r=u.$el.find('input[name="'+n.name+'"]').filter(function(){var n=this;return!i&&v(n)&&(i=n),!n.disabled&&n.checked}).length:(i=n,r=i.checked),t?u.getRangeMsg(r,t):!!r||nt(i,u,"")||u.messages.required||!1}},length:function(n,t){var i=this.value,r=("true"===t[1]?i.replace(ei,"xx"):i).length;return this.getRangeMsg(r,t,t[1]?"_2":"")},remote:function(t,i){if(i){var s,u=this,e=oi.exec(i[0]),f=u._rules[u._i],r={},c="",o=e[3],l=e[2]||"POST",a=(e[1]||"").toLowerCase();return f.must=!0,r[t.name]=u.value,i[1]&&n.map(i.slice(1),function(n){var t,i;~n.indexOf("=")?c+="&"+n:(t=n.split(":"),n=h(t[0]),i=h(t[1])||n,r[n]=u.$el.find(tt(i)).val())}),r=n.param(r)+c,!u.must&&f.data&&f.data===r?f.result:("cors"!==a&&/^https?:/.test(o)&&!~o.indexOf(location.host)&&(s="jsonp"),n.ajax({url:o,type:l,data:r,dataType:s}))}},filter:function(n,t){var i=this.value,r=i.replace(t?new RegExp("["+t[0]+"]","gm"):si,"");r!==i&&this.setValue(r)}}),u.config=function(t,i){function u(n,t){"rules"===n?new w(t):"messages"===n?new b(t):n in d?d[n]=t:ot[n]=t}s(t)?n.each(t,u):r(t)&&u(t,i)},u.setTheme=function(t,i){s(t)?n.extend(!0,g,t):r(t)&&s(i)&&(g[t]=n.extend(g[t],i))},u.load=function(t){if(t){var o,i,s,f=document,r={},e=f.scripts[0];t.replace(/([^?=&]+)=([^&#]*)/g,function(n,t,i){r[t]=i});o=r.dir||u.dir;u.css||""===r.css||(i=f.createElement("link"),i.rel="stylesheet",i.href=u.css=o+"jquery.validator.css",e.parentNode.insertBefore(i,e));!u.local&&~t.indexOf("local")&&""!==r.local&&(u.local=(r.local||f.documentElement.lang||"en").replace("_","-"),u.pending=1,i=f.createElement("script"),i.src=o+"local/"+u.local+".js",s="onload"in i?"onload":"onreadystatechange",i[s]=function(){i.readyState&&!/loaded|complete/.test(i.readyState)||(i=i[s]=null,delete u.pending,n(window).triggerHandler("validatorready"))},e.parentNode.insertBefore(i,e))}},function(){for(var t,n,i=document.scripts,r=i.length;r--&&!n;)t=i[r],n=(t.hasAttribute?t.src:t.getAttribute("src",4)||"").match(/(.*validator(?:\.min)?.js)(\?.*(?:local|css|dir)(?:=[\w\-]*)?)?/);n&&(u.dir=n[1].split("/").slice(0,-1).join("/")+"/",u.load(n[2]))}(),n[o]=u});