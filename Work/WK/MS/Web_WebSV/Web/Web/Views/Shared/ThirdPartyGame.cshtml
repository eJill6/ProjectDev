@using Web.Helpers
@* 第三方共用頁面 *@
@{
    string url = Convert.ToString(ViewBag.URL);
}

<script type="text/javascript">
    $(function () {
        var h = $(window).height();
        $("#iframepage").height(h);
    });

    function stateChangeIE(iframe) {
        if (iframe.readyState === "interactive")//state: loading ,interactive,   complete
        {
            showIframe(iframe);
        }
    }

    function stateChangeFirefox(iframe) {
        showIframe(iframe);
    }

    function showIframe(iframe) {
        $.fn.hideLoading();
        iframe.style.visibility = "visible";
    }
</script>


<div class="user_center cnt" style="width:100%;height:100%;">

    @{
        if (url.Contains("http"))
        {
            <script>
                $(document).ready(() => {
                    $.fn.loading()
                });
            </script>
            <iframe src="@url" id="iframepage" scrolling="yes" style="width:100%;visibility:hidden; border-width:0px; z-index:-1;" onreadystatechange="stateChangeIE(this)" onload="stateChangeFirefox(this)"></iframe>
        }
        else
        {
            <div style="text-align: center; font-size: 16px; margin-top: 20px; margin-bottom: 20px;
            font-weight: bold;">@url</div>
        }
    }
</div>
