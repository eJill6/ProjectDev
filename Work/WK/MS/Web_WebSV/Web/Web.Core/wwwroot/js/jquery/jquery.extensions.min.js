var LayerIconType,LogonMode,AjaxUpdateMode,FullLayerParam;(function(n){n[n.Alert=0]="Alert";n[n.Ok=1]="Ok";n[n.Error=2]="Error";n[n.Tip=3]="Tip";n[n.Lock=4]="Lock";n[n.Disagree=5]="Disagree";n[n.Agree=6]="Agree"})(LayerIconType||(LayerIconType={})),function(n){n[n.Native=0]="Native";n[n.Lite=1]="Lite"}(LogonMode||(LogonMode={})),function(n){n[n.Replace=1]="Replace";n[n.InsertBefore=2]="InsertBefore";n[n.InsertAfter=3]="InsertAfter"}(AjaxUpdateMode||(AjaxUpdateMode={}));FullLayerParam=function(){function n(){}return n}();$.extend({isMobileSize:function(){return window.innerWidth<=768},openFullLayer:function(n){var e=$(window).width(),o=$(window).height(),t=" ",r=1,u,f,i;n.isTitleVisible===!1?t=!1:n.title!==undefined&&(t=n.title);n.closeBtn&&(r=n.closeBtn);u=layer.open({title:t,type:2,area:["".concat(e,"px"),"".concat(o,"px")],content:n.url,shade:0,closeBtn:r,success:function(n){$(window).off("resize");$(window).on("resize",function(){n.is(":visible")&&layer.full(layer.index)})}});f=$("span.layui-layer-setwin");n.isTitleVisible===!1&&(f.remove(),i=$(".jqThirdGameBtnPanel"),i.show(),i.find("img").show());layer.full(u)},createFullLayerParam:function(){return new FullLayerParam},toTokenPath:function(n){var i="mwt",u=new URL(location.href),t=u.pathname.split("/"),r;return t.length<=2?n:t[1]==i?(r=t[2],"/".concat(i,"/").concat(r).concat(n)):n},openUrl:function(n,t,i){if(n==LogonMode.Native){if(t&&!t.startsWith("/")){var u=new URL(t),r=u.searchParams.get("initUrl");r&&r.startsWith("/")&&(r=location.origin+r,u.searchParams.set("initUrl",r),t=u.href)}location.href=t}else n==LogonMode.Lite&&(i?i.location=t:window.open(t))},ajaxHtmlUpdate:function(n,t){var i=$.extend({mode:AjaxUpdateMode.Replace},t);$.ajax2({url:i.url,type:i.type,data:i.data,success:function(t){switch(i.mode){case AjaxUpdateMode.InsertBefore:n.prepend(t);case AjaxUpdateMode.InsertAfter:n.append(t);default:n.html(t)}return}})},localStorage:{get:function(n){var t=localStorage.getItem(n);return t?JSON.parse(t):undefined},set:function(n,t){t&&localStorage.setItem(n,JSON.stringify(t))}},alert:function(n,t,i,r,u){t===void 0&&(t="确定");var f=[t];r&&f.push(r);layer.alert(n,{icon:LayerIconType.Alert,title:"温馨提示",btn:f,yes:function(n){typeof i=="function"&&i();layer.close(n)},btn2:u||function(){},closeBtn:!1})},tip:function(n,t){t===void 0&&(t=3e3);layer.msg(n,{time:t})},copyToClipboard:function(n,t){var i=document.createElement("textarea");i.value=n;document.body.appendChild(i);i.select();document.execCommand("copy");document.body.removeChild(i);typeof t=="function"&&t()},dateStringFormat:function(n){return n.toLocaleDateString("zh-CN").replace(/\//g,"-")},isValidDateStringFormat:function(n){return/^\d{4}-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$/.test(n)},showLoading:function(n){var i=$("#loading"),t;i.show();n&&(t=this.hideLoading,setTimeout(t,n*1e3))},hideLoading:function(){var n=$("#loading");n.hide()},isLoading:function(){var n=$("#loading");return n.is(":visible")}});$.ajax2=$.ajax2||function(n,t){var i=n.complete,r=n.success,f=n.isShowLoading!==!1,u=$(t||"#loading");return f&&u.show(),n.success=function(n,t,i){if(r){r(n,t,i);return}console.log(n)},n.complete=function(n,t){u.hide();i&&i(n,t)},$.ajax(n)};$.ajaxSetup({cache:!1,statusCode:{400:function(n){if(n.responseJSON){var t=n.responseJSON.Message||n.responseJSON.message;t!==undefined&&t!==""&&t!=null&&alert(t)}},401:function(){var n=globalVariables.GetEnterGameLoadingWindow();n&&n.close();location.href=globalVariables.GetUrl(globalVariables.GetReconnectTipsUrl)}},error:function(n){n.status!==0}});window.alert=function(n,t){setTimeout(function(){layer.alert(n,{icon:0,title:"温馨提示",closeBtn:!1,shadeClose:!0},function(n){typeof t=="function"&&t();layer.close(n)})},10)};window.confirm=function(n,t,i){return setTimeout(function(){layer.confirm(n,{icon:3,title:"确认信息",shadeClose:!0,closeBtn:!1},function(n){typeof t=="function"&&t();layer.close(n)},function(n){typeof i=="function"&&i();layer.close(n)})},10),!0};